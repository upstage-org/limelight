<% @title = "Edit Backdrop \'#{@backdrop.name}\'" %>

<div class="page-header">
  <h1>
    <%= @backdrop.name %>
    <small class="pull-right">
      <span class="btn-group">
        <%= link_to @backdrop, :method => :delete, :data => { confirm: "This backdrop will be deleted immediately and no longer be available on any stages that it was assigned to.", title: "Are you sure you want to delete the backdrop \"#{@backdrop.name}\"?" }, :class => "btn btn-danger" do %>
          <span class="glyphicon glyphicon-trash"></span>
        <% end %>
      </span>
    </small>
    <br>
    <small>Backdrop</small>
  </h1>
</div>

<div class="row">
  <%= render 'form' %>
  <div class="col-sm-10">
    <% unless @backdrop.new_record? %>

    <table class="table table-striped">
      <tr>
        <td>File Name:</td>
        <td><a href="<%= @backdrop_url %>" download><%= @backdrop.source_file_name %></a></td>
      </tr>
      <tr>
        <td>Created on:</td>
        <td><%= @backdrop.created_at.strftime("%d/%m/%y @ %I:%M %p") %></td>
      </tr>
      <tr>
        <td>Uploaded By:</td>
        <td>code for user who uploaded</td>
      </tr>
      <tr>
        <td>File Size:</td>
        <% if @backdrop.source_file_size >= 1048576 %>
          <td><%= (Float(@backdrop.source_file_size) / 1048576).round(1) %> MB</td>
        <% elsif @backdrop.source_file_size >= 1024 %>
          <td><%= (Float(@backdrop.source_file_size) / 1024).round(1) %> kB</td>
        <% else %>
          <td><%= @backdrop.source_file_size %> B</td>
        <% end %>
      </tr>
      <tr>
        <td>File Type:</td>
        <td><%= @backdrop.source_content_type %></td>
      </tr>
      <tr>
        <td>Dimensions:</td>
        <td><%= "#{@backdrop_dimensions[0]} x #{@backdrop_dimensions[1]}" %></td>
      </tr>
      <tr>
        <td>Stages:</td>
        <td>
          <%= render 'stages' %>
        </td>
      </tr>
      <tr>
        <td>Tags:</td>
        <td>
          <%= render 'tags' %>
        </td>
      </tr>
    </table>
    <% end %>
  </div>
</div>
